"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_drag-and-drop_drag-and-drop_ts-ui_packages_hydro-analytics_hydro-analytics_ts"],{96222:(e,t,r)=>{r.d(t,{Mp:()=>n.Mp,BS:()=>ej,Ux:()=>p,Hd:()=>n.Hd,vL:()=>n.vL,uN:()=>n.uN,cA:()=>n.cA,sH:()=>eD,AN:()=>n.AN,gB:()=>i.gB,IG:()=>n.IG,TT:()=>n.TT,Mk:()=>o.Mk,dU:()=>o.dU,FN:()=>o.FN,fF:()=>n.fF,E5:()=>n.E5,gY:()=>k,PM:()=>n.PM,zM:()=>n.zM,MS:()=>n.MS,FR:()=>n.FR,gl:()=>i.gl,_G:()=>i._G});var a=r(74848),n=r(26239),o=r(18831),i=r(43627),l=r(52811),s=r(27851),c=r(96679),d=r(98386),u=r(80663),m=r(52243),v=r(28835),g=r(34164),h=r(96540),f=r(40961);let p=(0,h.createContext)(null);function b(e,t){let r=(0,h.useRef)(!1);(0,h.useEffect)(()=>(t?(document.body.classList.add(e),r.current=!0):(r.current&&document.body.classList.remove(e),r.current=!1),()=>{r.current&&document.body.classList.remove(e),r.current=!1}),[e,t])}let x=(0,h.createContext)(void 0);try{x.displayName||(x.displayName="RootElementContext")}catch{}var y=r(70170);let D={instructions:e=>`Moving ${e}.`,firstItemInList:"First item in list.",lastItemInList:"Last item in list.",movedBetween:(e,t)=>`Between ${e} and ${t}.`,movePosition:"Move item one position",cancelDrag:"Cancel drag mode",endDrag:"Place item",cancelMove:e=>`Cancel moving ${e}`,cancelMoveMultiple:(e,t)=>`Cancel moving ${e} and ${t} other items`,successfulFirstMove:e=>`${e} successfully moved to first item in list.`,successfulLastMove:e=>`${e} successfully moved to last item in list.`,successfulMove:(e,t,r)=>`${e} successfully moved between ${t} and ${r}.`,successfulNoMove:e=>`${e} did not move.`,entryLessThanOne:"Entry must be greater than 0.",entryGreaterThanList:e=>`Entry must be less than or equal to ${e}.`,entryIsRequired:"Entry is required.",entryIsInvalid:"Entry is invalid."},j={itemWillNotBeMoved:e=>`${e} will not be moved.`,movedToFirst:e=>`${e} will be first item in the list.`,movedToLast:e=>`${e} will be last item in the list.`,movedBetween:(e,t,r)=>`${e} will be between ${t} and ${r}.`},M={BEFORE:"Move item before",AFTER:"Move item after",ROW:"Move to position"},N=()=>"",S=(0,y.s)(e=>{(0,l.i)(e,{assertive:!0})},100),C={onDragStart:N,onDragOver:N,onDragMove:N,onDragEnd:N,onDragCancel:N};function I({equalMessage:e,firstPositionMessage:t,lastPositionMessage:r,betweenBeforeMessage:a,betweenAfterMessage:n,newIndex:o,currentIndex:i,items:l,moveAction:s}){if(o===i)return e;if(0===o&&s!==M.AFTER)return t;if(o===l.length-1&&s!==M.BEFORE)return r;switch(s){case M.BEFORE:return a;case M.AFTER:return n;case M.ROW:if(o<i)return a;return n}}let w={start:[n.vL.Space,n.vL.Enter],cancel:[n.vL.Esc],end:[n.vL.Space,n.vL.Enter]};o.FN,o.Mk;let CustomKeyboardSensor=class CustomKeyboardSensor extends n.uN{};!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(CustomKeyboardSensor,"activators",[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=w,onActivation:r},{active:a})=>{let{code:n}=e.nativeEvent;if(t.start.includes(n)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),r?.({event:e.nativeEvent}),!0)}return!1}},{eventName:"onClick",handler:(e,{onActivation:t})=>{e.preventDefault();let r=new KeyboardEvent("keydown",{key:"Enter",code:"Enter"});return t?.({event:r}),!0}}]);let A=({collisionRect:e,droppableRects:t,droppableContainers:r})=>{let a=(e.top+e.bottom)/2,n=[];for(let e of r){let{id:r}=e,o=t.get(r);if(o){let t=Math.abs(a-(o.top+o.bottom)/2);n.push({id:r,data:{droppableContainer:e,value:t}})}}return n.sort((e,t)=>e.data.value-t.data.value)},_={isKeyboardDragging:"DragAndDropContainer-module__isKeyboardDragging--o7t_f",container:"DragAndDropContainer-module__container--hRASh"};var E=r(44263),T=r(2922);let k=()=>{let e=(0,h.useContext)(p);if(!e)throw Error("useDragAndDrop can only be accessed from a DragAndDropContext.Provider component");let{overId:t,dragIndex:r,moveToPosition:a,items:n,direction:o,moveDialogItem:i,openMoveDialog:l,isInDragMode:s}=e;return{isDropTarget:(0,h.useCallback)(e=>t===e||null,[t]),isBefore:e=>null!==r&&e<r,moveToPosition:a,items:n,direction:o,moveDialogItem:i,openMoveDialog:l,isInDragMode:s}};var F=r(38621),R=r(23134),$=r(55847),O=r(73451),L=r(21114),P=r(6869),B=r(9852);let G={dialogBody:"MoveDialog-module__dialogBody--LAeHh",form:"MoveDialog-module__form--cmYU8",title:"MoveDialog-module__title--lCiJF",dialogTitle:"MoveDialog-module__dialogTitle--DMkkn"};var K=r(47594),q=r(9591);let U={form:"MoveDialogForm-module__form--uULos",datePickerAnchor:"MoveDialogForm-module__datePickerAnchor--CXHl5"},H=(0,h.createContext)({formLabel:"",onChange:()=>{}});function X(e){let{formProps:t,setIsInvalidOption:r,setHelperText:n,helperTextId:o}=e,{actions:i,onActionChange:l,actionsLabel:s}=t,[c,d]=(0,h.useState)(i[0]?.value),u=(0,h.useCallback)(e=>{l?.(e);let t=i.find(t=>t.value===e.target.value);t&&d(t.value)},[i,l]);return(0,a.jsx)(H.Provider,{value:(0,h.useMemo)(()=>({formLabel:c??"",onChange:(e,t)=>{n(e),r(t)},helperTextId:o}),[c,n,o,r]),children:(0,a.jsxs)("div",{className:(0,g.$)(U.form),children:[i.length>1&&(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:s??"Action"}),(0,a.jsx)(T.A,{block:!0,onChange:u,children:i.map(e=>(0,a.jsx)(T.A.Option,{value:e.value,children:e.value},e.value))})]}),i.find(e=>e.value===c)?.renderInput]})})}let z=h.forwardRef((e,t)=>{let{helperText:r,isInvalid:n,...o}=e,{formLabel:i,onChange:l,helperTextId:s}=(0,h.useContext)(H);return(0,h.useEffect)(()=>{l(r??"",!!n)},[r,n,l]),(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:i}),(0,a.jsx)(T.A,{block:!0,"aria-invalid":n,validationStatus:n?"error":void 0,"aria-describedby":s,ref:t,...o})]})});z.displayName="MoveDialogForm.SingleSelect";let W=h.forwardRef((e,t)=>{let{isInvalid:r,helperText:n,...o}=e,{formLabel:i,onChange:l,helperTextId:s}=(0,h.useContext)(H);return(0,h.useEffect)(()=>{l(n,!!r)},[n,r,l]),(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:i}),(0,a.jsx)(q.A,{block:!0,"aria-invalid":r,validationStatus:r?"error":void 0,"aria-describedby":s,ref:t,...o})]})});function V(e){let{isInvalid:t,helperText:r,...n}=e,{formLabel:o,onChange:i}=(0,h.useContext)(H);(0,h.useEffect)(()=>{i(r,!!t)},[r,t,i]);let l={...n,renderAnchor:e=>{let{children:t,...r}=e;return(0,a.jsx)($.Q,{trailingAction:F.TriangleDownIcon,block:!0,...r,children:t})}};return(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:o}),(0,a.jsx)(L.X,{...l})]})}function J(e){let{isInvalid:t,helperText:r,...n}=e,{formLabel:o,onChange:i,helperTextId:l}=(0,h.useContext)(H),s={anchor:"button",anchorClassName:U.datePickerAnchor,compressedHeader:!1,confirmation:!1,confirmUnsavedClose:!0,dateFormat:"long",placeholder:o,showTodayButton:!0,showClearButton:!1,variant:"single",weekStartsOn:"Sunday"};(0,h.useEffect)(()=>{i(r,!!t)},[r,t,i]);let c={...s,...n};return(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:o}),(0,a.jsx)(K.DatePicker,{...c,"aria-describedby":l,fieldName:o})]})}W.displayName="MoveDialogForm.Text",X.SingleSelect=z,X.Text=W,X.MultiSelect=V,X.Date=J,X.SingleSelectOption=T.A.Option;try{X.displayName||(X.displayName="MoveDialogForm")}catch{}try{V.displayName||(V.displayName="MultiSelect")}catch{}try{J.displayName||(J.displayName="DateInput")}catch{}let Q="move-dialog-title",Y=({closeDialog:e,onSubmit:t,formProps:r,title:n,submitButtonLabel:o,returnFocusRef:i,...s})=>{let c,u,[m,v]=(0,h.useState)(!1),[f,p]=(0,h.useState)(!1),b="";s.multiSelectItems?c=s.selectPanelProps.selected[0]:b=s.selectedItem.value;let[x,y]=(0,h.useState)(""),j=(0,h.useId)(),M=(0,h.useRef)(null);(0,R.g)({containerRef:M,onClickOutside:e=>e.preventDefault()});let N=async e=>{if(e.preventDefault(),m){let e=M.current?.querySelector('[aria-invalid="true"]');e&&e.focus();return}await t?.(e)};return s.multiSelectItems&&(u={...s.selectPanelProps,selected:s.selectPanelProps.selected,onSelectedChange:e=>{s.multiSelectItems&&(e[0]!==c?p(!0):s.selectPanelProps.onSelectedChange?.(e))},renderAnchor:e=>{let{children:t,...r}=e;return(0,a.jsx)($.Q,{trailingAction:F.TriangleDownIcon,block:!0,...r,children:t})}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.l,{title:(0,a.jsx)("span",{className:(0,g.$)(G.title),id:Q,...(0,d.G)(Q),children:n??(s.multiSelectItems?"Move selected items":"Move selected item")}),onClose:()=>{if(e(),s.multiSelectItems){let e=s.selectPanelProps.selected;(0,l.i)(D.cancelMoveMultiple(e[0]?.text??"",e?.length??0),{assertive:!0})}else(0,l.i)(D.cancelMove(b),{assertive:!0})},width:"large",ref:M,renderBody:()=>(0,a.jsxs)("form",{onSubmit:N,...(0,d.G)("move-dialog-form"),onBlur:e=>e.stopPropagation(),className:(0,g.$)(G.form),noValidate:!0,"aria-labelledby":Q,children:[(0,a.jsxs)(B.l.Body,{className:(0,g.$)(G.dialogBody),children:[(0,a.jsx)("div",{className:(0,g.$)(G.dialogTitle),children:s.multiSelectItems?(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{requiredIndicator:!1,children:"Item(s)"}),(0,a.jsx)(L.X,{...u})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-bold pb-1",children:"Item"}),(0,a.jsx)("span",{children:b})]})}),(0,a.jsx)(X,{formProps:r,setHelperText:y,setIsInvalidOption:v,helperTextId:j}),(0,a.jsxs)(P.A,{"aria-live":"assertive",variant:m?"danger":"default",id:j,...(0,d.G)("drag-and-drop-move-dialog-flash"),children:[m?(0,a.jsx)(F.AlertIcon,{}):(0,a.jsx)(F.InfoIcon,{}),x]})]}),(0,a.jsx)(B.l.Footer,{className:"p-2",children:(0,a.jsx)($.Q,{type:"submit",variant:"primary",...(0,d.G)("drag-and-drop-move-dialog-move-item-button"),children:o??"Move"})})]}),returnFocusRef:i}),f&&(0,a.jsxs)(B.l,{width:"large",title:"Missing selection",onClose:()=>{s.multiSelectItems&&p(!1)},children:[(0,a.jsx)(B.l.Body,{className:(0,g.$)(G.dialogBody),children:"The first item you selected cannot be deselected when performing a move."}),(0,a.jsx)(B.l.Footer,{className:"p-2",children:(0,a.jsx)($.Q,{type:"submit",variant:"primary",onClick:()=>{s.multiSelectItems&&p(!1)},children:"I understand"})})]})]})};try{Y.displayName||(Y.displayName="MoveDialog")}catch{}let Z=(e,t)=>e!==t+1&&e!==t,ee=(e,t)=>e!==t-1&&e!==t,et=(e,t)=>void 0===t?D.entryIsRequired:t<0?D.entryLessThanOne:t>e.length?D.entryGreaterThanList(e.length):D.entryIsInvalid,er=(e,t)=>void 0===t||t<0||t>=e.length||isNaN(t),ea=({closeDialog:e,dialogTitle:t,returnFocusRef:r})=>{let n=(0,h.useRef)(null),{moveDialogItem:o,moveToPosition:i,items:s}=k(),{title:c,index:u}=o??{title:"",index:-1},[m,v]=(0,h.useState)(!1),[g,f]=(0,h.useState)(),[p,b]=(0,h.useState)(s.some((e,t)=>Z(t,u))?M.BEFORE:s.some((e,t)=>ee(t,u))?M.AFTER:M.ROW),[x,y]=(0,h.useState)(""),N=(0,h.useMemo)(()=>e=>{let t="";if(void 0===e||er(s,e))t=et(s,e);else{let r=s[e-1]?.title,a=s[e+1]?.title;t=I({equalMessage:j.itemWillNotBeMoved(c),firstPositionMessage:j.movedToFirst(c),lastPositionMessage:j.movedToLast(c),betweenBeforeMessage:j.movedBetween(c,r,s[e]?.title),betweenAfterMessage:j.movedBetween(c,s[e]?.title,a),newIndex:e,currentIndex:u,items:s,moveAction:p})}y(t)},[c,u,p,s]),S=(0,E.d)(N,100);(0,h.useEffect)(()=>{if(n.current?.value){let e=p===M.ROW?-1:0,t=parseInt(n.current?.value,10)+e;f(isNaN(t)?void 0:t),S(isNaN(t)?void 0:t)}},[S,n,p]);let C=async()=>{if(void 0!==g){switch(p){case M.ROW:g>=u?await i(u,g,!1):await i(u,g,!0);break;case M.BEFORE:await i(u,g,!0);break;case M.AFTER:default:await i(u,g,!1)}e(),function({newIndex:e,items:t,title:r,...a}){let n=t[e-1]?.title,o=t[e+1]?.title,i=I({equalMessage:D.successfulNoMove(r),firstPositionMessage:D.successfulFirstMove(r),lastPositionMessage:D.successfulLastMove(r),betweenBeforeMessage:D.successfulMove(r,n,t[e]?.title),betweenAfterMessage:D.successfulMove(r,t[e]?.title,o),newIndex:e,items:t,...a});(0,l.i)(i,{assertive:!0})}({newIndex:g,currentIndex:u,items:s,title:c,moveAction:p})}},w=e=>{er(s,e)?v(!0):v(!1),f(e&&isNaN(e)?void 0:e),S(e)};return(0,a.jsx)(Y,{closeDialog:e,title:t,formProps:{actions:[...s.some((e,t)=>Z(t,u))?[{value:M.BEFORE,renderInput:(0,a.jsx)(X.SingleSelect,{ref:p===M.BEFORE?n:void 0,helperText:x,onChange:e=>{w(Number(e.currentTarget.value))},isInvalid:!1,...(0,d.G)("drag-and-drop-move-dialog-position-input"),children:s.map((e,t)=>{if(Z(t,u))return(0,a.jsx)(T.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],...s.some((e,t)=>ee(t,u))?[{value:M.AFTER,renderInput:(0,a.jsx)(X.SingleSelect,{ref:p===M.AFTER?n:void 0,helperText:x,onChange:e=>{w(Number(e.currentTarget.value))},isInvalid:!1,...(0,d.G)("drag-and-drop-move-dialog-position-input"),children:s.map((e,t)=>{if(ee(t,u))return(0,a.jsx)(T.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],{value:M.ROW,renderInput:(0,a.jsx)(X.Text,{ref:p===M.ROW?n:void 0,helperText:x,min:1,max:s.length,defaultValue:u+1,type:"number",onChange:e=>{w(e.currentTarget.value?parseInt(e.currentTarget.value,10)-1:void 0)},isInvalid:m,...(0,d.G)("drag-and-drop-move-dialog-position-input")})}],onActionChange:e=>{b(e.target.value),v(!1)}},selectedItem:{value:c},onSubmit:C,returnFocusRef:r})};try{ea.displayName||(ea.displayName="DragAndDropMoveDialog")}catch{}var en=r(65607),eo=r(96339);let ei={instructionContainer:"KeyboardSpecificInstructionsDialog-module__instructionContainer--mMMA3",instruction:"KeyboardSpecificInstructionsDialog-module__instruction--cVFch",footerContainer:"KeyboardSpecificInstructionsDialog-module__footerContainer--G_jqi",footerForm:"KeyboardSpecificInstructionsDialog-module__footerForm--ifodW",footerButton:"KeyboardSpecificInstructionsDialog-module__footerButton--JEK34"},el="hideKeyboardSpecificInstructions",es=({onClose:e})=>{let[t,r]=(0,v.M)(el,!1);return(0,a.jsxs)("div",{className:(0,g.$)(ei.footerContainer),children:[(0,a.jsx)("div",{className:(0,g.$)(ei.footerForm),children:(0,a.jsxs)(O.A,{children:[(0,a.jsx)(en.A,{checked:t,onChange:()=>r(!t)}),(0,a.jsx)(O.A.Label,{children:"Don't show this again"})]})}),(0,a.jsx)("div",{className:(0,g.$)(ei.footerButton),children:(0,a.jsx)($.Q,{onClick:e,children:"Close"})})]})},ec=({isOpen:e,onClose:t,direction:r,keyboardCodes:n=w})=>e?(0,a.jsx)("div",{onKeyDown:e=>{e.stopPropagation(),"Escape"===e.code&&t()},children:(0,a.jsx)(B.l,{title:"How to move objects via keyboard",subtitle:"This navigation is only available when move mode is activated.",onClose:t,renderFooter:()=>(0,a.jsx)(B.l.Footer,{className:"d-flex",children:(0,a.jsx)(es,{onClose:t})}),children:(0,a.jsxs)("table",{className:(0,g.$)(ei.instructionContainer),children:[(0,a.jsx)("thead",{className:"sr-only",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text=bold",children:"Action"}),(0,a.jsx)("th",{className:"text=bold",children:"Keyboard Shortcut"})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:(0,g.$)(ei.instruction),children:[(0,a.jsx)("td",{children:D.cancelDrag}),(0,a.jsx)("td",{children:n.cancel.map((e,t)=>(0,a.jsxs)(h.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:" / "}),(0,a.jsx)(eo.U,{keys:e})]},e))})]}),(0,a.jsxs)("tr",{className:(0,g.$)(ei.instruction),children:[(0,a.jsx)("td",{children:D.movePosition}),(0,a.jsxs)("td",{children:[(0,a.jsx)(eo.U,{keys:"vertical"===r?"up":"left"}),(0,a.jsx)("span",{children:" / "}),(0,a.jsx)(eo.U,{keys:"vertical"===r?"down":"right"})]})]}),(0,a.jsxs)("tr",{className:(0,g.$)(ei.instruction,"border-bottom-0"),children:[(0,a.jsx)("td",{children:D.endDrag}),(0,a.jsx)("td",{children:n.end.map((e,t)=>(0,a.jsxs)(h.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:" / "}),(0,a.jsx)("kbd",{className:"bgColor-default box-shadow-none fgColor-muted",children:e.toLowerCase()})]},e))})]})]})]})})}):null;try{es.displayName||(es.displayName="KeyboardSpecificInstructionsFooter")}catch{}try{ec.displayName||(ec.displayName="KeyboardSpecificInstructionsDialog")}catch{}let ed=({onDrop:e,items:t,direction:r="vertical",children:y,as:j="ul",renderOverlay:M,keyboardCodes:N,enableTouch:I=!1,...w},E)=>{let[T,k]=(0,h.useState)(!1),[F,R]=(0,h.useState)(0),[$,O]=(0,h.useState)(!1),[L,P]=(0,h.useState)(0),[B,G]=(0,h.useState)(null),[K,q]=(0,h.useState)(!1),[U]=(0,v.M)(el,!1),[H,X]=(0,h.useState)(!1),[z,W]=(0,h.useState)(null),V=t.map(e=>e.id),J=(0,h.useMemo)(()=>t.reduce((e,t)=>(e[t.id]=t.title,e),{}),[t]);b("is-dragging",T),b(_.isKeyboardDragging??"",H);let[Q,Y]=(0,h.useState)(null),Z=(0,m.j)(),ee=(0,h.useCallback)(()=>{q(!1)},[]),et=(0,h.useCallback)(e=>{if(!e.active)return;(0,l.i)(D.instructions(J[e.active.id]??e.active.id),{assertive:!0});let t=e.active.data.current?.metadata;G(t?.id??null),P(e.active.data.current?.sortable.index??0),R(e.active.data.current?.sortable.index??0),k(!0)},[J]),er=(0,h.useCallback)(e=>{let t=e.over?.data.current?.metadata;G(t?.id??null),$||O(!0),e.over&&e.over.data.current&&R(e.over.data.current.sortable.index)},[$]);(0,h.useEffect)(()=>{if(T&&$)if(0===F)S(D.firstItemInList);else if(F===V.length-1)S(D.lastItemInList);else{let e=F<=L,t=F===L,r=e?V[F-1]:V[F+1],a=t?V[F+1]:V[F];S(D.movedBetween(J[r],J[a]))}},[T,$,F,J,V,L]);let en=(0,h.useCallback)(e=>{(0,l.i)(`${J[e.active.id]??e.active.id} not moved.`,{assertive:!0}),k(!1),X(!1),O(!1),setTimeout(()=>{document.activeElement?.scrollIntoView({behavior:Z?"instant":"smooth",block:"nearest"})},1)},[J,Z]),eo=(0,h.useCallback)(r=>{if(k(!1),X(!1),O(!1),!r.active||!r.over)return;let a=r.active.data.current?.metadata,n=r.over.data.current?.metadata;a?.id!==n?.id&&e({dragMetadata:a,dropMetadata:n,isBefore:F<L}),G(null),function({newIndex:e,currentIndex:t,items:r,title:a}){let n=r.map(e=>e.id);if(e===t)(0,l.i)(D.successfulNoMove(a),{assertive:!0});else if(0===e)(0,l.i)(D.successfulFirstMove(a),{assertive:!0});else if(e===r.length-1)(0,l.i)(D.successfulLastMove(a),{assertive:!0});else{let o=e<=t?n[e-1]:n[e+1],i=n[e],s=r.find(e=>e.id===o)?.title??"",c=r.find(e=>e.id===i)?.title??"";(0,l.i)(D.successfulMove(a,s,c),{assertive:!0})}}({newIndex:F,currentIndex:L,items:t,title:J[r.active.id]})},[F,L,t,J,e]),ei=(0,h.useCallback)((t,r,a)=>{G(V[r]??null);let n=V[t],o=V[r];n&&o&&e({dragMetadata:{id:n},dropMetadata:{id:o},isBefore:a??r<t})},[V,e]),es=(0,h.useContext)(x),ed=(0,h.useMemo)(()=>()=>{$||U||q(!0),X(!0)},[U,$]),eu=(0,h.useCallback)((e,t,r)=>{W({title:e,index:t,returnFocusRef:r})},[]),em=(0,h.useCallback)(()=>{W(null),Y(z?.returnFocusRef?.current??null)},[z]),ev=(0,s.G7)("dnd_touch_enabled"),eg=(0,n.MS)(n.IG),eh=(0,n.MS)(n.cA),ef=(0,n.MS)(CustomKeyboardSensor,{coordinateGetter:i.JR,keyboardCodes:N,onActivation:ed}),ep=(0,h.useMemo)(()=>ev&&I?[eh,eg,ef]:[eh,ef],[ev,I,eh,eg,ef]),eb=(0,n.FR)(...ep);(0,h.useEffect)(()=>{Q?.focus(),Y(null)},[Q]);let ex=t[L],[ey]=(0,u.I)(()=>document.body,null,[c.XC?.body]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ec,{isOpen:K,onClose:ee,direction:r,keyboardCodes:N}),(0,a.jsx)(n.Mp,{collisionDetection:(0,h.useMemo)(()=>"horizontal"===r?n.y$:A,[r]),modifiers:(0,h.useMemo)(()=>"horizontal"===r?[o.dU]:[o.FN],[r]),sensors:eb,onDragStart:et,onDragOver:er,onDragEnd:eo,onDragCancel:en,accessibility:(0,h.useMemo)(()=>({container:es,announcements:C}),[es]),children:(0,a.jsx)(i.gB,{items:V,strategy:(0,h.useMemo)(()=>"horizontal"===r?i.m$:i._G,[r]),children:(0,a.jsxs)(p.Provider,{value:(0,h.useMemo)(()=>({overId:B,dragIndex:L,moveToPosition:ei,items:t,direction:r,openMoveDialog:eu,moveDialogItem:z,isInDragMode:T&&!K}),[B,L,ei,t,r,eu,z,T,K]),children:[z&&(0,a.jsx)(ea,{closeDialog:em}),(0,a.jsx)(j,{...w,ref:E,className:(0,g.$)(_.container,w.className),...(0,d.G)("sortable-list"),onKeyDown:e=>{T&&"Tab"===e.code&&e.preventDefault()},children:y}),ey?(0,f.createPortal)((0,a.jsx)(n.Hd,{dropAnimation:null,className:(0,g.$)(_.container),children:ex&&!K?M(ex,L):null}),ey):null]})})})]})},eu=(0,h.forwardRef)(ed);try{ed.displayName||(ed.displayName="DragAndDropContainer")}catch{}try{eu.displayName||(eu.displayName="DragAndDrop")}catch{}let em=(0,h.createContext)({title:"",index:0,id:""}),ev={dragItem:"DragAndDropItem-module__dragItem--UGOXw",vertical:"DragAndDropItem-module__vertical--lQ8I_",horizontal:"DragAndDropItem-module__horizontal--hqpRk",contents:"DragAndDropItem-module__contents--_8Pu6",dragOverlay:"DragAndDropItem-module__dragOverlay--VercU"};var eg=r(15177),eh=r(64515),ef=r(87330);let ep=()=>{let e=(0,h.useContext)(em);if(!e)throw Error("useDragAndDropItem must be used within a DragAndDropItemContextProvider");return e},eb={trigger:"DragAndDropTrigger-module__trigger--CBp1Q",hideDragHandler:"DragAndDropTrigger-module__hideDragHandler--YtiXa",mouseTrigger:"DragAndDropTrigger-module__mouseTrigger--Xkz0N",buttonTrigger:"DragAndDropTrigger-module__buttonTrigger--DQrxK",touchEnabled:"DragAndDropTrigger-module__touchEnabled--wANML"},ex=(0,h.forwardRef)(function(e,t){let{title:r,id:n}=ep(),{setActivatorNodeRef:o,listeners:l,isDragging:c,items:u}=(0,i.gl)({id:n,data:{metadata:{id:n}}}),{isTouchDevice:m}=(0,eg.k)(),v=(0,s.G7)("dnd_no_touch_device_check"),f=(0,s.G7)("dnd_touch_enabled"),p=(0,h.useRef)(null);(0,eh.T)(t,p);let{onMouseDown:b,onClick:x,onKeyDown:y,onTouchStart:D}=l;return(0,a.jsxs)("div",{...(0,d.G)("sortable-trigger-container"),className:(0,g.$)(eb.trigger,(1===u.length||!v&&!f&&m)&&eb.hideDragHandler,f&&eb.touchEnabled),children:[(0,a.jsx)("div",{onMouseDown:b,onTouchStart:D,className:(0,g.$)(eb.mouseTrigger),...(0,d.G)("sortable-mouse-trigger")}),(0,a.jsx)(ef.K,{className:eb.buttonTrigger,"aria-label":`Move ${r}`,ref:e=>{p.current=e,o(e)},onKeyDown:y,onClick:x,variant:"invisible",role:c?"application":"button",icon:F.GrabberIcon,size:"large",...e,...(0,d.G)("sortable-trigger")})]})});try{ex.displayName||(ex.displayName="DragAndDropTrigger")}catch{}let ey=({children:e,id:t,index:r,title:n,containerStyle:o,style:l,hideTrigger:s,isDragOverlay:c=!1,role:u,as:v="li",itemClassName:f,elementId:p,...b})=>{let x=(0,m.j)(),{setNodeRef:y,isDragging:D,transform:j,transition:M}=(0,i.gl)({id:t,data:{metadata:{id:t}}}),{direction:N,isInDragMode:S}=k(),C=(0,g.$)("position-relative",b.className,S&&{[ev.dragItem]:D,[ev.horizontal]:"horizontal"===N,[ev.vertical]:"vertical"===N}),I={transform:j?`
        translateX(${Math.round(j.x)}px)
        translateY(${Math.round(j.y)}px)
        scaleX(${j.scaleX})
        scaleY(${j.scaleY})
      `:"none",transition:x?"none":M};return(0,a.jsx)(em.Provider,{value:(0,h.useMemo)(()=>({index:r,title:n,id:t}),[r,t,n]),children:(0,a.jsx)(c?"div":v,{...b,...(0,d.G)(c?"drag-overlay":"sortable-item"),className:C,style:{...c?{}:o,...I},ref:y,id:p,children:(0,a.jsxs)("div",{style:l,className:(0,g.$)("position-relative",f,S&&ev.contents,c&&ev.dragOverlay),role:u,children:[!s&&(0,a.jsx)(ex,{}),e]})})})};try{ey.displayName||(ey.displayName="DragAndDropItem")}catch{}let eD=h.forwardRef(({Component:e,returnFocusRef:t,...r},n)=>{let{title:o,index:i}=ep(),{items:l,openMoveDialog:s}=k(),c=(0,h.useCallback)(()=>{s(o,i,t??n)},[s,o,i,t,n]);return 1===l.length?null:(0,a.jsx)(e,{ref:n,...r,onClick:c,onSelect:c})});eD.displayName="MoveDialogTrigger";let ej=Object.assign(eu,{Item:ey,DragTrigger:ex,MoveDialog:Y,MoveDialogForm:X,MoveDialogTrigger:eD,DragAndDropMoveDialog:ea});try{ej.displayName||(ej.displayName="DragAndDrop")}catch{}r(74979)},38007:(e,t,r)=>{let a;r.d(t,{BI:()=>g,Ti:()=>h,lA:()=>m,sX:()=>v});var n=r(70837),o=r(18679),i=r(85351),l=r(7479);let{getItem:s}=(0,i.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,n.O)("octolytics");delete e.baseContext,a=new o.s(e)}catch{}function u(e){let t=(0,n.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,a]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=a);return t.staff=(0,l.X)().toString(),Object.assign(t,e)}function m(e){a?.sendPageView(u(e))}function v(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function g(e,t={}){let r=v(),n=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(n[e]=`${r}`);a&&(u(n),a.sendEvent(e||"unknown",u(n)))}function h(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},80663:(e,t,r)=>{r.d(t,{I:()=>i});var a=r(96540),n=r(17515),o=r(60674);function i(e,t,r=[]){let l=(0,a.useCallback)(e,r),s=(0,o.BP)(),c=(0,a.useRef)(s===o.O8.ClientRender),[d,u]=(0,a.useState)(()=>s===o.O8.ClientRender?l():t),m=(0,a.useCallback)(()=>{u(l)},[l]);return(0,n.N)(()=>{c.current||u(l),c.current=!1},[l,...r]),[d,m]}},44263:(e,t,r)=>{r.d(t,{d:()=>i});var a=r(90851),n=r(23125),o=r(96540);let i=(e,t,{leading:r=!1,maxWait:i,trailing:l=!0,onChangeBehavior:s="flush"}={})=>{let c=(0,a.M)(e),d=(0,o.useMemo)(()=>{let e=void 0===i?{leading:r,trailing:l}:{leading:r,trailing:l,maxWait:i};return(0,n.A)((...e)=>c.current(...e),t,e)},[c,t,r,i,l]);return(0,o.useEffect)(()=>()=>{d?.[s]()},[d,s]),d}},52243:(e,t,r)=>{let a;r.d(t,{j:()=>c});var n=r(96540);function o(){return a||(a=window.matchMedia("(prefers-reduced-motion: reduce)"))}function i(){return!1}function l(){return o().matches}function s(e){let t=o();return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}function c(){return(0,n.useSyncExternalStore)(s,l,i)}},28835:(e,t,r)=>{r.d(t,{M:()=>c,s:()=>d});var a=r(85351),n=r(96540);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let i=(0,a.A)("localStorage"),l="local-storage-update",s=class UseLocalStorageUpdateEvent extends Event{constructor(e,t){super(l),o(this,"storageKey",void 0),o(this,"storageValue",void 0),this.storageKey=e,this.storageValue=t}};function c(e,t){let r=(0,n.useRef)(t);(0,n.useEffect)(()=>{r.current=t});let[a,o]=(0,n.useState)(()=>{let t=i.getItem(e);return t?JSON.parse(t):r.current}),c=(0,n.useCallback)(t=>{o(t??r.current),void 0===t?i.removeItem(e):i.setItem(e,JSON.stringify(t)),document.dispatchEvent(new s(e,t))},[e]);return(0,n.useEffect)(()=>{function t(t){t.storageKey===e&&o(t.storageValue??r.current)}document.addEventListener(l,t);let a=i.getItem(e);return a?o(JSON.parse(a)):o(r.current),()=>{document.removeEventListener(l,t)}},[e]),[a,c]}function d(e){for(let t of e)i.removeItem(t),document.dispatchEvent(new s(t,void 0))}},15177:(e,t,r)=>{r.d(t,{k:()=>s});var a=r(96540),n=r(46996),o=r(96679),i=r(80663);let l=e=>({height:e.clientHeight,isLandscape:window.matchMedia("(orientation: landscape)").matches,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,pixelDensity:window.devicePixelRatio,width:e.clientWidth});function s(){let[e]=(0,i.I)(()=>document.documentElement,null,[o.XC?.documentElement]),t=(0,a.useRef)({}),r=(0,a.useCallback)(t=>{if(!e)return()=>void 0;let r=new ResizeObserver(t);return r.observe(e),()=>{r.unobserve(e),r.disconnect()}},[e]);return(0,a.useSyncExternalStore)(r,()=>{if(!e)return t.current;let r=l(e);return(0,n.A)(r,t.current)?t.current:(t.current=r,r)},()=>t.current)}}}]);
//# sourceMappingURL=ui_packages_drag-and-drop_drag-and-drop_ts-ui_packages_hydro-analytics_hydro-analytics_ts-cfb0ca0eee70.js.map